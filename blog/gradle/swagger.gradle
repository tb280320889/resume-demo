/*
 * Plugin that provides API-first development using swagger-codegen to
 * generate Spring-MVC endpoint stubs at compile time from a swagger definition file
 */

apply plugin: "org.detoeuf.swagger-codegen"

swagger {
    inputSpec = 'src/main/resources/swagger/api.yml'
    outputDir = file('build/swagger')
    lang = 'spring'

    addDynamicProperty 'interfaceOnly', true
    addDynamicProperty 'java8', true

    additionalProperties = [
        'modelPackage': 'com.github.sherlock.demo.resume.web.api.model',
        'apiPackage'  : 'com.github.sherlock.demo.resume.web.api'
    ]

    systemProperties = [
        'models': '',
        'apis'  : ''
    ]
}

sourceSets {
    main {
        java {
            srcDir file("${project.buildDir.path}/swagger/src/main/kotlin")
        }
    }
}

compileJava.dependsOn('swagger')
